
void () bubble_bob;

void () InitBodyQue;

void () main = {

   dprint ("main function\n");
   precache_file ("progs.dat");
   precache_file ("gfx.wad");
   precache_file ("quake.rc");
   precache_file ("default.cfg");
   precache_file ("end1.bin");
   precache_file2 ("end2.bin");
   precache_file ("demo1.dem");
   precache_file ("demo2.dem");
   precache_file ("demo3.dem");
   precache_file ("gfx/palette.lmp");
   precache_file ("gfx/colormap.lmp");
   precache_file2 ("gfx/pop.lmp");
   precache_file ("gfx/complete.lmp");
   precache_file ("gfx/inter.lmp");
   precache_file ("gfx/ranking.lmp");
   precache_file ("gfx/vidmodes.lmp");
   precache_file ("gfx/finale.lmp");
   precache_file ("gfx/conback.lmp");
   precache_file ("gfx/qplaque.lmp");
   precache_file ("gfx/menudot1.lmp");
   precache_file ("gfx/menudot2.lmp");
   precache_file ("gfx/menudot3.lmp");
   precache_file ("gfx/menudot4.lmp");
   precache_file ("gfx/menudot5.lmp");
   precache_file ("gfx/menudot6.lmp");
   precache_file ("gfx/menuplyr.lmp");
   precache_file ("gfx/bigbox.lmp");
   precache_file ("gfx/dim_modm.lmp");
   precache_file ("gfx/dim_drct.lmp");
   precache_file ("gfx/dim_ipx.lmp");
   precache_file ("gfx/dim_tcp.lmp");
   precache_file ("gfx/dim_mult.lmp");
   precache_file ("gfx/mainmenu.lmp");
   precache_file ("gfx/box_tl.lmp");
   precache_file ("gfx/box_tm.lmp");
   precache_file ("gfx/box_tr.lmp");
   precache_file ("gfx/box_ml.lmp");
   precache_file ("gfx/box_mm.lmp");
   precache_file ("gfx/box_mm2.lmp");
   precache_file ("gfx/box_mr.lmp");
   precache_file ("gfx/box_bl.lmp");
   precache_file ("gfx/box_bm.lmp");
   precache_file ("gfx/box_br.lmp");
   precache_file ("gfx/sp_menu.lmp");
   precache_file ("gfx/ttl_sgl.lmp");
   precache_file ("gfx/ttl_main.lmp");
   precache_file ("gfx/ttl_cstm.lmp");
   precache_file ("gfx/mp_menu.lmp");
   precache_file ("gfx/netmen1.lmp");
   precache_file ("gfx/netmen2.lmp");
   precache_file ("gfx/netmen3.lmp");
   precache_file ("gfx/netmen4.lmp");
   precache_file ("gfx/netmen5.lmp");
   precache_file ("gfx/sell.lmp");
   precache_file ("gfx/help0.lmp");
   precache_file ("gfx/help1.lmp");
   precache_file ("gfx/help2.lmp");
   precache_file ("gfx/help3.lmp");
   precache_file ("gfx/help4.lmp");
   precache_file ("gfx/help5.lmp");
   precache_file ("gfx/pause.lmp");
   precache_file ("gfx/loading.lmp");
   precache_file ("gfx/p_option.lmp");
   precache_file ("gfx/p_load.lmp");
   precache_file ("gfx/p_save.lmp");
   precache_file ("gfx/p_multi.lmp");
   precache_sound ("misc/menu1.wav");
   precache_sound ("misc/menu2.wav");
   precache_sound ("misc/menu3.wav");
   precache_sound ("ambience/water1.wav");
   precache_sound ("ambience/wind2.wav");
   precache_sound ("ambience/rain.wav");
   precache_sound ("ambience/rumble.wav");
precache_sound ("weapons/saw_up.wav");
precache_sound ("weapons/saw_hit.wav");
precache_sound ("weapons/saw.wav");
precache_sound ("weapons/saw_fire.wav");
   precache_file ("maps/start.bsp");
   precache_file ("maps/dimen1.bsp");
   precache_file ("maps/dimen2.bsp");
   precache_file ("maps/dimen3.bsp");
   precache_file ("maps/dimen4.bsp");
   precache_file ("maps/dimen5.bsp");
   precache_file ("maps/dimen6.bsp");
   precache_file ("maps/dimen7.bsp");
   precache_file ("maps/dimen8.bsp");
   precache_file ("maps/dimen9.bsp");
   precache_file ("maps/dm1.bsp");
   precache_file ("maps/dm2.bsp");
   precache_file ("maps/dm3.bsp");
   precache_file ("maps/dm4.bsp");
   precache_file ("maps/dm5.bsp");
   precache_file ("maps/dm6.bsp");
   precache_file ("maps/death1.bsp");
   precache_file ("maps/death2.bsp");
   precache_file ("maps/death3.bsp");
   precache_file ("maps/death4.bsp");
   precache_file ("maps/death5.bsp");
   precache_file ("maps/death6.bsp");
   precache_file ("maps/death7.bsp");
   precache_file ("maps/death8.bsp");
   precache_file ("maps/death9.bsp");
   precache_file ("maps/death10.bsp");
   precache_file ("maps/death11.bsp");
   precache_file ("maps/death12.bsp");
   precache_file ("maps/death13.bsp");
   precache_file ("maps/death14.bsp");
   precache_file ("maps/death15.bsp");
   precache_file ("maps/death16.bsp");
   precache_file ("maps/death17.bsp");
   precache_file ("maps/death18.bsp");
   precache_file ("maps/death19.bsp");
   precache_file ("maps/death20.bsp");
   precache_file ("maps/death21.bsp");
   precache_file ("maps/death22.bsp");
   precache_file ("maps/death23.bsp");
   precache_file ("maps/death24.bsp");
   precache_file ("maps/death25.bsp");
   precache_file ("maps/death26.bsp");
   precache_file ("maps/death27.bsp");
   precache_file ("maps/death28.bsp");
   precache_file ("maps/death29.bsp");
   precache_file ("maps/death30.bsp");
   precache_file ("maps/death31.bsp");
   precache_file ("maps/death32.bsp");
   precache_file ("maps/death33.bsp");
   precache_file ("maps/death34.bsp");
   precache_file ("maps/death35.bsp");
   precache_file ("maps/death36.bsp");
   precache_file ("maps/death37.bsp");
   precache_file ("maps/death38.bsp");
   precache_file ("maps/death39.bsp");
   precache_file ("maps/death40.bsp");
   precache_file ("maps/death41.bsp");
   precache_file ("maps/death42.bsp");
   precache_file ("maps/death43.bsp");
   precache_file ("maps/wicked1.bsp");
   precache_file ("maps/wicked2.bsp");
   precache_file ("maps/wicked3.bsp");
   precache_file ("maps/wicked4.bsp");
   precache_file ("maps/wicked5.bsp");
   precache_file ("maps/wicked6.bsp");
   precache_file ("maps/wicked7.bsp");
   precache_file ("maps/wicked8.bsp");
   precache_file ("maps/wicked9.bsp");
   precache_file ("maps/wicked10.bsp");
   precache_file ("maps/wicked11.bsp");
   precache_file ("maps/wicked12.bsp");
   precache_file ("maps/wicked13.bsp");
   precache_file ("maps/wicked14.bsp");
   precache_file ("maps/wicked15.bsp");
   precache_file ("maps/wicked16.bsp");
   precache_file ("maps/wicked17.bsp");
   precache_file ("maps/wicked18.bsp");
   precache_file ("maps/wicked19.bsp");
   precache_file ("maps/wicked20.bsp");
   precache_file ("maps/wicked21.bsp");
   precache_file ("maps/wicked22.bsp");
   precache_file ("maps/wicked23.bsp");
   precache_file ("maps/wicked24.bsp");
   precache_file ("maps/wicked25.bsp");
   precache_file ("maps/wicked26.bsp");
   precache_file ("maps/1bsp1.bsp");
   precache_file ("maps/1bsp2.bsp");
   precache_file ("maps/1bsp3.bsp");
   precache_file ("maps/1bsp4.bsp");
   precache_file ("maps/1bsp5.bsp");
   precache_file ("maps/1bsp6.bsp");
   precache_file ("maps/1bsp7.bsp");
   precache_file ("maps/1bsp8.bsp");
   precache_file ("maps/1bsp9.bsp");
   precache_file ("maps/1bsp10.bsp");

};
entity lastspawn;

void () worldspawn = {

   lastspawn = world;
   InitBodyQue ();
   if ( (self.model == "maps/e1m8.bsp") ) {

      cvar_set ("sv_gravity","100");

   } else {

      cvar_set ("sv_gravity","800");

   }
   W_Precache ();
   precache_sound ("demon/dland2.wav");
   precache_sound ("misc/h2ohit1.wav");
   precache_sound ("items/itembk2.wav");
   precache_sound ("player/plyrjmp8.wav");
   precache_sound ("weapons/bounce2.wav");
   precache_sound ("player/land.wav");
   precache_sound ("player/land2.wav");
   precache_sound ("player/drown1.wav");
   precache_sound ("player/drown2.wav");
   precache_sound ("player/gasp1.wav");
   precache_sound ("player/gasp2.wav");
   precache_sound ("player/h2odeath.wav");
   precache_sound ("misc/talk.wav");
   precache_sound ("misc/holly.wav");
   precache_sound ("misc/exit.wav");
   precache_sound ("misc/cool.wav");
   precache_sound ("blob/land1.wav");
   precache_sound ("weapons/woosh.wav");
   precache_sound ("weapons/shellhit.wav");
   precache_sound ("weapons/saber.wav");
   precache_sound ("weapons/saber1.wav");
   precache_sound ("player/teledth1.wav");
   precache_sound ("misc/r_tele1.wav");
   precache_sound ("misc/r_tele2.wav");
   precache_sound ("misc/r_tele3.wav");
   precache_sound ("misc/r_tele4.wav");
   precache_sound ("misc/r_tele5.wav");
   precache_sound ("weapons/lock4.wav");
   precache_sound ("weapons/pkup.wav");
   precache_sound ("items/armor1.wav");
   precache_sound ("weapons/lhit.wav");
   precache_sound ("weapons/lstart.wav");
   precache_sound ("weapons/laser.wav");
   precache_sound ("items/damage3.wav");
   precache_sound ("items/damage2.wav");
   precache_sound ("enforcer/enfstop.wav");
   precache_sound ("ambience/rumble.wav");
   precache_sound ("enforcer/enfire.wav");
   precache_sound ("weapons/saberon.wav");
   precache_sound ("weapons/saberoff.wav");
   precache_sound ("weapons/saberhum.wav");
   precache_sound ("weapons/saberhup.wav");
   precache_sound ("weapons/saberhit.wav");
   precache_sound ("misc/power.wav");
   precache_sound ("shambler/smack.wav");
   precache_sound ("weapons/beep.wav");
   precache_sound ("weapons/set.wav");
   precache_sound ("weapons/saw1.wav");
   precache_sound ("weapons/saw2.wav");
   precache_sound ("weapons/saw3.wav");
   precache_sound ("weapons/chain1.wav");
   precache_sound ("weapons/chain2.wav");
   precache_sound ("weapons/chain3.wav");
   precache_sound ("say/01/01.wav");
   precache_sound ("say/01/02.wav");
   precache_sound ("say/01/03.wav");
   precache_sound ("say/01/04.wav");
   precache_sound ("say/01/05.wav");
   precache_sound ("say/01/06.wav");
   precache_sound ("say/01/07.wav");
   precache_sound ("say/01/08.wav");
   precache_sound ("say/01/09.wav");
   precache_sound ("say/01/10.wav");
   precache_sound ("say/01/11.wav");
   precache_sound ("say/01/12.wav");
   precache_sound ("say/02/01.wav");
   precache_sound ("say/02/02.wav");
   precache_sound ("say/02/03.wav");
   precache_sound ("say/02/04.wav");
   precache_sound ("say/02/05.wav");
   precache_sound ("say/02/06.wav");
   precache_sound ("say/02/07.wav");
   precache_sound ("say/02/08.wav");
   precache_sound ("say/02/09.wav");
   precache_sound ("say/02/10.wav");
   precache_sound ("say/02/11.wav");
   precache_sound ("say/02/12.wav");
   precache_sound ("say/03/01.wav");
   precache_sound ("say/03/02.wav");
   precache_sound ("say/03/03.wav");
   precache_sound ("say/03/04.wav");
   precache_sound ("say/03/05.wav");
   precache_sound ("say/03/06.wav");
   precache_sound ("say/03/07.wav");
   precache_sound ("say/03/08.wav");
   precache_sound ("say/03/09.wav");
   precache_sound ("say/03/10.wav");
   precache_sound ("say/03/11.wav");
   precache_sound ("say/03/12.wav");
   precache_sound ("say/04/01.wav");
   precache_sound ("say/04/02.wav");
   precache_sound ("say/04/03.wav");
   precache_sound ("say/04/04.wav");
   precache_sound ("say/04/05.wav");
   precache_sound ("say/04/06.wav");
   precache_sound ("say/04/07.wav");
   precache_sound ("say/04/08.wav");
   precache_sound ("say/04/09.wav");
   precache_sound ("say/04/10.wav");
   precache_sound ("say/04/11.wav");
   precache_sound ("say/04/12.wav");
   precache_sound ("say/05/01.wav");
   precache_sound ("say/05/02.wav");
   precache_sound ("say/05/03.wav");
   precache_sound ("say/05/04.wav");
   precache_sound ("say/05/05.wav");
   precache_sound ("say/05/06.wav");
   precache_sound ("say/05/07.wav");
   precache_sound ("say/05/08.wav");
   precache_sound ("say/05/09.wav");
   precache_sound ("say/05/10.wav");
   precache_sound ("say/05/11.wav");
   precache_sound ("say/05/12.wav");
   precache_sound ("say/06/01.wav");
   precache_sound ("say/06/02.wav");
   precache_sound ("say/06/03.wav");
   precache_sound ("say/06/04.wav");
   precache_sound ("say/06/05.wav");
   precache_sound ("say/06/06.wav");
   precache_sound ("say/06/07.wav");
   precache_sound ("say/06/08.wav");
   precache_sound ("say/06/09.wav");
   precache_sound ("say/06/10.wav");
   precache_sound ("say/06/11.wav");
   precache_sound ("say/06/12.wav");
   precache_sound ("say/07/01.wav");
   precache_sound ("say/07/02.wav");
   precache_sound ("say/07/03.wav");
   precache_sound ("say/07/04.wav");
   precache_sound ("say/07/05.wav");
   precache_sound ("say/07/06.wav");
   precache_sound ("say/07/07.wav");
   precache_sound ("say/07/08.wav");
   precache_sound ("say/07/09.wav");
   precache_sound ("say/07/10.wav");
   precache_sound ("say/07/11.wav");
   precache_sound ("say/07/12.wav");
   precache_sound ("say/08/01.wav");
   precache_sound ("say/08/02.wav");
   precache_sound ("say/08/03.wav");
   precache_sound ("say/08/04.wav");
   precache_sound ("say/08/05.wav");
   precache_sound ("say/08/06.wav");
   precache_sound ("say/08/07.wav");
   precache_sound ("say/08/08.wav");
   precache_sound ("say/08/09.wav");
   precache_sound ("say/08/10.wav");
   precache_sound ("say/08/11.wav");
   precache_sound ("say/08/12.wav");
   precache_sound ("say/09/01.wav");
   precache_sound ("say/09/02.wav");
   precache_sound ("say/09/03.wav");
   precache_sound ("say/09/04.wav");
   precache_sound ("say/09/05.wav");
   precache_sound ("say/09/06.wav");
   precache_sound ("say/09/07.wav");
   precache_sound ("say/09/08.wav");
   precache_sound ("say/09/09.wav");
   precache_sound ("say/09/10.wav");
   precache_sound ("say/09/11.wav");
   precache_sound ("say/09/12.wav");
   precache_sound ("say/10/01.wav");
   precache_sound ("say/10/02.wav");
   precache_sound ("say/10/03.wav");
   precache_sound ("say/10/04.wav");
   precache_sound ("say/10/05.wav");
   precache_sound ("say/10/06.wav");
   precache_sound ("say/10/07.wav");
   precache_sound ("say/10/08.wav");
   precache_sound ("say/10/09.wav");
   precache_sound ("say/10/10.wav");
   precache_sound ("say/10/11.wav");
   precache_sound ("say/10/12.wav");
   precache_sound ("player/gib1.wav");
   precache_sound ("weapons/lhit.wav");
   precache_sound ("player/gib2.wav");
   precache_sound ("player/udeath.wav");
   precache_sound ("player/tornoff2.wav");
   precache_sound ("player/pain1.wav");
   precache_sound ("player/pain2.wav");
   precache_sound ("player/pain3.wav");
   precache_sound ("player/pain4.wav");
   precache_sound ("player/pain5.wav");
   precache_sound ("player/pain6.wav");
   precache_sound ("hknight/hit.wav");
   precache_sound ("player/death1.wav");
   precache_sound ("player/death2.wav");
   precache_sound ("player/death3.wav");
   precache_sound ("player/death4.wav");
   precache_sound ("player/death5.wav");
   precache_sound ("player/death6.wav");
   precache_sound ("player/death7.wav");
   precache_sound ("weapons/ax1.wav");
   precache_sound ("player/axhit1.wav");
   precache_sound ("player/axhit2.wav");
   precache_sound ("weapons/wheee.wav");
   precache_sound ("weapons/woohoo.wav");
   precache_sound ("weapons/taxhit1.wav");
   precache_sound ("weapons/taxhit2.wav");
   precache_sound ("weapons/taxhit3.wav");
   precache_sound ("player/h2ojump.wav");
   precache_sound ("player/slimbrn2.wav");
   precache_sound ("player/inh2o.wav");
   precache_sound ("player/inlava.wav");
   precache_sound ("misc/outwater.wav");
   precache_sound ("player/lburn1.wav");
   precache_sound ("player/lburn2.wav");
   precache_sound ("misc/water1.wav");
   precache_sound ("misc/water2.wav");
   precache_model ("progs/buzzsaw.mdl");
   precache_sound ("buzz/buzz.wav");
   precache_sound ("buzz/buzz1.wav");
   precache_model ("progs/pendulum.mdl");
   precache_sound ("pendulum/swing.wav");
   precache_sound ("pendulum/hit.wav");
   precache_model ("progs/player.mdl");
   precache_model ("progs/eyes.mdl");
   precache_model ("progs/h_player.mdl");
   precache_model ("progs/nanner.mdl");
   precache_model ("progs/gib1.mdl");
   precache_model ("progs/gib2.mdl");
   precache_model ("progs/gib3.mdl");
   precache_model ("progs/gib4.mdl");
   precache_model ("progs/gib5.mdl");
   precache_model ("progs/gib6.mdl");
   precache_model ("progs/bone.mdl");
   precache_model ("progs/skull.mdl");
   precache_model ("progs/spine.mdl");
   precache_model ("progs/s_rain.spr");
   precache_model ("progs/s_bubble.spr");
   precache_model ("progs/s_explod.spr");
   precache_model ("progs/v_axeds.mdl");
   precache_model ("progs/v_axegs.mdl");
   precache_model ("progs/v_laser.mdl");
   precache_model ("progs/laser.mdl");
   precache_model ("progs/v_shot.mdl");
   precache_model ("progs/v_nail.mdl");
   precache_model ("progs/v_rock.mdl");
   precache_model ("progs/v_shot2.mdl");
   precache_model ("progs/v_nail2.mdl");
   precache_model ("progs/v_rock2.mdl");
   precache_model ("progs/v_star.mdl");
   precache_model ("progs/v_taxe.mdl");
   precache_model ("progs/v_flame.mdl");
   precache_model ("progs/star.mdl");
   precache_model ("progs/shelcase.mdl");
   precache_model ("progs/shell.mdl");
   precache_model ("progs/mine.mdl");
   precache_model ("progs/bit.mdl");
   precache_model ("progs/bolt.mdl");
   precache_model ("progs/bolt2.mdl");
   precache_model ("progs/bolt3.mdl");
   precache_model ("progs/lavaball.mdl");
   precache_model ("progs/throwaxe.mdl");
   precache_model ("progs/v_chain.mdl");
   precache_model ("progs/v_chainb.mdl");
   precache_model ("progs/missile.mdl");
   precache_model ("progs/bullet.mdl");
   precache_model ("progs/grenade.mdl");
   precache_model ("progs/pipebomb.mdl");
   precache_model ("progs/spike.mdl");
   precache_model ("progs/s_spike.mdl");
   precache_model ("progs/backpack.mdl");
   precache_model ("progs/zom_gib.mdl");
   precache_model ("progs/v_light.mdl");
   precache_model ("progs/beam.mdl");
   precache_model ("progs/flame2.mdl");
   lightstyle (Kick_em,"m");
   lightstyle (WEAPON_SHOTGUN,"mmnmmommommnonmmonqnmmo");
   lightstyle (WEAPON_ROCKET,"abcdefghijklmnopqrstuvwxyzyxwvutsrqponmlkjihgfedcba");
   lightstyle (AS_MELEE,"mmmmmaaaaammmmmaaaaaabcdefgabcdefg");
   lightstyle (WEAPON_SPIKES,"mamamamamama");
   lightstyle (TE_LIGHTNING1,"jklmnopqrstuvwxyzyxwvutsrqponmlkj");
   lightstyle (TE_LIGHTNING2,"nmonqnmomnmomomno");
   lightstyle (TE_WIZSPIKE,"mmmaaaabcdefgmmmmaaaammmaamm");
   lightstyle (WEAPON_BIG,"mmmaaammmaaammmabcdefaaaammmmabcdefmmmaaaa");
   lightstyle (TE_LIGHTNING3,"aaaaaaaazzzzzzzz");
   lightstyle (TE_LAVASPLASH,"mmamammmmammamamaaamammma");
   lightstyle (TE_TELEPORT,"abcdefghijklmnopqrrqponmlkjihgfedcba");
   lightstyle (63.000,"a");

};

void () StartFrame = {

   teamplay = cvar ("teamplay");
   if ( (teamplay == AS_MELEE) ) {

      teamplay = Kick_em;
      extra_goodies = WEAPON_SHOTGUN;

   } else {

      if ( (teamplay == WEAPON_SPIKES) ) {

         teamplay = WEAPON_SHOTGUN;
         extra_goodies = WEAPON_SHOTGUN;

      } else {

         extra_goodies = Kick_em;

      }

   }
   skill = cvar ("skill");
   framecount = (framecount + WEAPON_SHOTGUN);

};
entity bodyque_head;

void () bodyque = {


};

void () InitBodyQue = {

   local entity e;

   bodyque_head = spawn ();
   bodyque_head.classname = "bodyque";
   bodyque_head.owner = spawn ();
   bodyque_head.owner.classname = "bodyque";
   bodyque_head.owner.owner = spawn ();
   bodyque_head.owner.owner.classname = "bodyque";
   bodyque_head.owner.owner.owner = spawn ();
   bodyque_head.owner.owner.owner.classname = "bodyque";
   bodyque_head.owner.owner.owner.owner = bodyque_head;

};

void (entity ent) CopyToBodyQue = {

   bodyque_head.angles = ent.angles;
   bodyque_head.model = ent.model;
   bodyque_head.modelindex = ent.modelindex;
   bodyque_head.frame = ent.frame;
   bodyque_head.skin = ent.skin;
   bodyque_head.movetype = ent.movetype;
   bodyque_head.velocity = ent.velocity;
   bodyque_head.flags = Kick_em;
   setorigin (bodyque_head,ent.origin);
   setsize (bodyque_head,ent.mins,ent.maxs);
   if ( (extra_goodies == WEAPON_SHOTGUN) ) {

      SetSolidBody (bodyque_head);

   }
   bodyque_head = bodyque_head.owner;

};
